// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package ovh

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a subnet in a private network of a public cloud project.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-ovh/sdk/go/ovh"
// 	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := ovh.NewCloudNetworkPrivateSubnet(ctx, "subnet", &ovh.CloudNetworkPrivateSubnetArgs{
// 			Dhcp:      pulumi.Bool(true),
// 			End:       pulumi.String("192.168.168.200"),
// 			Network:   pulumi.String("192.168.168.0/24"),
// 			NetworkId: pulumi.String("0234543"),
// 			NoGateway: pulumi.Bool(false),
// 			ProjectId: pulumi.String("67890"),
// 			Region:    pulumi.String("GRA1"),
// 			Start:     pulumi.String("192.168.168.100"),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
type CloudNetworkPrivateSubnet struct {
	pulumi.CustomResourceState

	// Ip Block representing the subnet cidr.
	Cidr pulumi.StringOutput `pulumi:"cidr"`
	// Enable DHCP.
	// Changing this forces a new resource to be created. Defaults to false.
	// _
	Dhcp pulumi.BoolPtrOutput `pulumi:"dhcp"`
	// Last ip for this region.
	// Changing this value recreates the subnet.
	End pulumi.StringOutput `pulumi:"end"`
	// The IP of the gateway
	GatewayIp pulumi.StringOutput `pulumi:"gatewayIp"`
	// List of ip pools allocated in the subnet.
	// * `ip_pools/network` - Global network with cidr.
	// * `ip_pools/region` - Region where this subnet is created.
	// * `ip_pools/dhcp` - DHCP enabled.
	// * `ip_pools/end` - Last ip for this region.
	// * `ip_pools/start` - First ip for this region.
	IpPools CloudNetworkPrivateSubnetIpPoolArrayOutput `pulumi:"ipPools"`
	// Global network in CIDR format.
	// Changing this value recreates the subnet
	Network pulumi.StringOutput `pulumi:"network"`
	// The id of the network.
	// Changing this forces a new resource to be created.
	NetworkId pulumi.StringOutput `pulumi:"networkId"`
	// Set to true if you don't want to set a default gateway IP.
	// Changing this value recreates the resource. Defaults to false.
	NoGateway pulumi.BoolPtrOutput `pulumi:"noGateway"`
	// The id of the public cloud project. If omitted,
	// the `OVH_PROJECT_ID` environment variable is used.
	// Changing this forces a new resource to be created.
	ProjectId pulumi.StringOutput `pulumi:"projectId"`
	// The region in which the network subnet will be created.
	// Ex.: "GRA1". Changing this value recreates the resource.
	Region pulumi.StringOutput `pulumi:"region"`
	// First ip for this region.
	// Changing this value recreates the subnet.
	Start pulumi.StringOutput `pulumi:"start"`
}

// NewCloudNetworkPrivateSubnet registers a new resource with the given unique name, arguments, and options.
func NewCloudNetworkPrivateSubnet(ctx *pulumi.Context,
	name string, args *CloudNetworkPrivateSubnetArgs, opts ...pulumi.ResourceOption) (*CloudNetworkPrivateSubnet, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.End == nil {
		return nil, errors.New("invalid value for required argument 'End'")
	}
	if args.Network == nil {
		return nil, errors.New("invalid value for required argument 'Network'")
	}
	if args.NetworkId == nil {
		return nil, errors.New("invalid value for required argument 'NetworkId'")
	}
	if args.ProjectId == nil {
		return nil, errors.New("invalid value for required argument 'ProjectId'")
	}
	if args.Region == nil {
		return nil, errors.New("invalid value for required argument 'Region'")
	}
	if args.Start == nil {
		return nil, errors.New("invalid value for required argument 'Start'")
	}
	var resource CloudNetworkPrivateSubnet
	err := ctx.RegisterResource("ovh:index/cloudNetworkPrivateSubnet:CloudNetworkPrivateSubnet", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCloudNetworkPrivateSubnet gets an existing CloudNetworkPrivateSubnet resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCloudNetworkPrivateSubnet(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CloudNetworkPrivateSubnetState, opts ...pulumi.ResourceOption) (*CloudNetworkPrivateSubnet, error) {
	var resource CloudNetworkPrivateSubnet
	err := ctx.ReadResource("ovh:index/cloudNetworkPrivateSubnet:CloudNetworkPrivateSubnet", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CloudNetworkPrivateSubnet resources.
type cloudNetworkPrivateSubnetState struct {
	// Ip Block representing the subnet cidr.
	Cidr *string `pulumi:"cidr"`
	// Enable DHCP.
	// Changing this forces a new resource to be created. Defaults to false.
	// _
	Dhcp *bool `pulumi:"dhcp"`
	// Last ip for this region.
	// Changing this value recreates the subnet.
	End *string `pulumi:"end"`
	// The IP of the gateway
	GatewayIp *string `pulumi:"gatewayIp"`
	// List of ip pools allocated in the subnet.
	// * `ip_pools/network` - Global network with cidr.
	// * `ip_pools/region` - Region where this subnet is created.
	// * `ip_pools/dhcp` - DHCP enabled.
	// * `ip_pools/end` - Last ip for this region.
	// * `ip_pools/start` - First ip for this region.
	IpPools []CloudNetworkPrivateSubnetIpPool `pulumi:"ipPools"`
	// Global network in CIDR format.
	// Changing this value recreates the subnet
	Network *string `pulumi:"network"`
	// The id of the network.
	// Changing this forces a new resource to be created.
	NetworkId *string `pulumi:"networkId"`
	// Set to true if you don't want to set a default gateway IP.
	// Changing this value recreates the resource. Defaults to false.
	NoGateway *bool `pulumi:"noGateway"`
	// The id of the public cloud project. If omitted,
	// the `OVH_PROJECT_ID` environment variable is used.
	// Changing this forces a new resource to be created.
	ProjectId *string `pulumi:"projectId"`
	// The region in which the network subnet will be created.
	// Ex.: "GRA1". Changing this value recreates the resource.
	Region *string `pulumi:"region"`
	// First ip for this region.
	// Changing this value recreates the subnet.
	Start *string `pulumi:"start"`
}

type CloudNetworkPrivateSubnetState struct {
	// Ip Block representing the subnet cidr.
	Cidr pulumi.StringPtrInput
	// Enable DHCP.
	// Changing this forces a new resource to be created. Defaults to false.
	// _
	Dhcp pulumi.BoolPtrInput
	// Last ip for this region.
	// Changing this value recreates the subnet.
	End pulumi.StringPtrInput
	// The IP of the gateway
	GatewayIp pulumi.StringPtrInput
	// List of ip pools allocated in the subnet.
	// * `ip_pools/network` - Global network with cidr.
	// * `ip_pools/region` - Region where this subnet is created.
	// * `ip_pools/dhcp` - DHCP enabled.
	// * `ip_pools/end` - Last ip for this region.
	// * `ip_pools/start` - First ip for this region.
	IpPools CloudNetworkPrivateSubnetIpPoolArrayInput
	// Global network in CIDR format.
	// Changing this value recreates the subnet
	Network pulumi.StringPtrInput
	// The id of the network.
	// Changing this forces a new resource to be created.
	NetworkId pulumi.StringPtrInput
	// Set to true if you don't want to set a default gateway IP.
	// Changing this value recreates the resource. Defaults to false.
	NoGateway pulumi.BoolPtrInput
	// The id of the public cloud project. If omitted,
	// the `OVH_PROJECT_ID` environment variable is used.
	// Changing this forces a new resource to be created.
	ProjectId pulumi.StringPtrInput
	// The region in which the network subnet will be created.
	// Ex.: "GRA1". Changing this value recreates the resource.
	Region pulumi.StringPtrInput
	// First ip for this region.
	// Changing this value recreates the subnet.
	Start pulumi.StringPtrInput
}

func (CloudNetworkPrivateSubnetState) ElementType() reflect.Type {
	return reflect.TypeOf((*cloudNetworkPrivateSubnetState)(nil)).Elem()
}

type cloudNetworkPrivateSubnetArgs struct {
	// Enable DHCP.
	// Changing this forces a new resource to be created. Defaults to false.
	// _
	Dhcp *bool `pulumi:"dhcp"`
	// Last ip for this region.
	// Changing this value recreates the subnet.
	End string `pulumi:"end"`
	// Global network in CIDR format.
	// Changing this value recreates the subnet
	Network string `pulumi:"network"`
	// The id of the network.
	// Changing this forces a new resource to be created.
	NetworkId string `pulumi:"networkId"`
	// Set to true if you don't want to set a default gateway IP.
	// Changing this value recreates the resource. Defaults to false.
	NoGateway *bool `pulumi:"noGateway"`
	// The id of the public cloud project. If omitted,
	// the `OVH_PROJECT_ID` environment variable is used.
	// Changing this forces a new resource to be created.
	ProjectId string `pulumi:"projectId"`
	// The region in which the network subnet will be created.
	// Ex.: "GRA1". Changing this value recreates the resource.
	Region string `pulumi:"region"`
	// First ip for this region.
	// Changing this value recreates the subnet.
	Start string `pulumi:"start"`
}

// The set of arguments for constructing a CloudNetworkPrivateSubnet resource.
type CloudNetworkPrivateSubnetArgs struct {
	// Enable DHCP.
	// Changing this forces a new resource to be created. Defaults to false.
	// _
	Dhcp pulumi.BoolPtrInput
	// Last ip for this region.
	// Changing this value recreates the subnet.
	End pulumi.StringInput
	// Global network in CIDR format.
	// Changing this value recreates the subnet
	Network pulumi.StringInput
	// The id of the network.
	// Changing this forces a new resource to be created.
	NetworkId pulumi.StringInput
	// Set to true if you don't want to set a default gateway IP.
	// Changing this value recreates the resource. Defaults to false.
	NoGateway pulumi.BoolPtrInput
	// The id of the public cloud project. If omitted,
	// the `OVH_PROJECT_ID` environment variable is used.
	// Changing this forces a new resource to be created.
	ProjectId pulumi.StringInput
	// The region in which the network subnet will be created.
	// Ex.: "GRA1". Changing this value recreates the resource.
	Region pulumi.StringInput
	// First ip for this region.
	// Changing this value recreates the subnet.
	Start pulumi.StringInput
}

func (CloudNetworkPrivateSubnetArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*cloudNetworkPrivateSubnetArgs)(nil)).Elem()
}

type CloudNetworkPrivateSubnetInput interface {
	pulumi.Input

	ToCloudNetworkPrivateSubnetOutput() CloudNetworkPrivateSubnetOutput
	ToCloudNetworkPrivateSubnetOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetOutput
}

func (*CloudNetworkPrivateSubnet) ElementType() reflect.Type {
	return reflect.TypeOf((**CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (i *CloudNetworkPrivateSubnet) ToCloudNetworkPrivateSubnetOutput() CloudNetworkPrivateSubnetOutput {
	return i.ToCloudNetworkPrivateSubnetOutputWithContext(context.Background())
}

func (i *CloudNetworkPrivateSubnet) ToCloudNetworkPrivateSubnetOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudNetworkPrivateSubnetOutput)
}

// CloudNetworkPrivateSubnetArrayInput is an input type that accepts CloudNetworkPrivateSubnetArray and CloudNetworkPrivateSubnetArrayOutput values.
// You can construct a concrete instance of `CloudNetworkPrivateSubnetArrayInput` via:
//
//          CloudNetworkPrivateSubnetArray{ CloudNetworkPrivateSubnetArgs{...} }
type CloudNetworkPrivateSubnetArrayInput interface {
	pulumi.Input

	ToCloudNetworkPrivateSubnetArrayOutput() CloudNetworkPrivateSubnetArrayOutput
	ToCloudNetworkPrivateSubnetArrayOutputWithContext(context.Context) CloudNetworkPrivateSubnetArrayOutput
}

type CloudNetworkPrivateSubnetArray []CloudNetworkPrivateSubnetInput

func (CloudNetworkPrivateSubnetArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (i CloudNetworkPrivateSubnetArray) ToCloudNetworkPrivateSubnetArrayOutput() CloudNetworkPrivateSubnetArrayOutput {
	return i.ToCloudNetworkPrivateSubnetArrayOutputWithContext(context.Background())
}

func (i CloudNetworkPrivateSubnetArray) ToCloudNetworkPrivateSubnetArrayOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudNetworkPrivateSubnetArrayOutput)
}

// CloudNetworkPrivateSubnetMapInput is an input type that accepts CloudNetworkPrivateSubnetMap and CloudNetworkPrivateSubnetMapOutput values.
// You can construct a concrete instance of `CloudNetworkPrivateSubnetMapInput` via:
//
//          CloudNetworkPrivateSubnetMap{ "key": CloudNetworkPrivateSubnetArgs{...} }
type CloudNetworkPrivateSubnetMapInput interface {
	pulumi.Input

	ToCloudNetworkPrivateSubnetMapOutput() CloudNetworkPrivateSubnetMapOutput
	ToCloudNetworkPrivateSubnetMapOutputWithContext(context.Context) CloudNetworkPrivateSubnetMapOutput
}

type CloudNetworkPrivateSubnetMap map[string]CloudNetworkPrivateSubnetInput

func (CloudNetworkPrivateSubnetMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (i CloudNetworkPrivateSubnetMap) ToCloudNetworkPrivateSubnetMapOutput() CloudNetworkPrivateSubnetMapOutput {
	return i.ToCloudNetworkPrivateSubnetMapOutputWithContext(context.Background())
}

func (i CloudNetworkPrivateSubnetMap) ToCloudNetworkPrivateSubnetMapOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CloudNetworkPrivateSubnetMapOutput)
}

type CloudNetworkPrivateSubnetOutput struct{ *pulumi.OutputState }

func (CloudNetworkPrivateSubnetOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (o CloudNetworkPrivateSubnetOutput) ToCloudNetworkPrivateSubnetOutput() CloudNetworkPrivateSubnetOutput {
	return o
}

func (o CloudNetworkPrivateSubnetOutput) ToCloudNetworkPrivateSubnetOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetOutput {
	return o
}

type CloudNetworkPrivateSubnetArrayOutput struct{ *pulumi.OutputState }

func (CloudNetworkPrivateSubnetArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (o CloudNetworkPrivateSubnetArrayOutput) ToCloudNetworkPrivateSubnetArrayOutput() CloudNetworkPrivateSubnetArrayOutput {
	return o
}

func (o CloudNetworkPrivateSubnetArrayOutput) ToCloudNetworkPrivateSubnetArrayOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetArrayOutput {
	return o
}

func (o CloudNetworkPrivateSubnetArrayOutput) Index(i pulumi.IntInput) CloudNetworkPrivateSubnetOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CloudNetworkPrivateSubnet {
		return vs[0].([]*CloudNetworkPrivateSubnet)[vs[1].(int)]
	}).(CloudNetworkPrivateSubnetOutput)
}

type CloudNetworkPrivateSubnetMapOutput struct{ *pulumi.OutputState }

func (CloudNetworkPrivateSubnetMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CloudNetworkPrivateSubnet)(nil)).Elem()
}

func (o CloudNetworkPrivateSubnetMapOutput) ToCloudNetworkPrivateSubnetMapOutput() CloudNetworkPrivateSubnetMapOutput {
	return o
}

func (o CloudNetworkPrivateSubnetMapOutput) ToCloudNetworkPrivateSubnetMapOutputWithContext(ctx context.Context) CloudNetworkPrivateSubnetMapOutput {
	return o
}

func (o CloudNetworkPrivateSubnetMapOutput) MapIndex(k pulumi.StringInput) CloudNetworkPrivateSubnetOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CloudNetworkPrivateSubnet {
		return vs[0].(map[string]*CloudNetworkPrivateSubnet)[vs[1].(string)]
	}).(CloudNetworkPrivateSubnetOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CloudNetworkPrivateSubnetInput)(nil)).Elem(), &CloudNetworkPrivateSubnet{})
	pulumi.RegisterInputType(reflect.TypeOf((*CloudNetworkPrivateSubnetArrayInput)(nil)).Elem(), CloudNetworkPrivateSubnetArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CloudNetworkPrivateSubnetMapInput)(nil)).Elem(), CloudNetworkPrivateSubnetMap{})
	pulumi.RegisterOutputType(CloudNetworkPrivateSubnetOutput{})
	pulumi.RegisterOutputType(CloudNetworkPrivateSubnetArrayOutput{})
	pulumi.RegisterOutputType(CloudNetworkPrivateSubnetMapOutput{})
}
